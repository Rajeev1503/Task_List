<%- include('./Partials/header', {title: "Task List - BeUpdated"}); -%>
<%- include('./Shared/navbar', {path:"TaskList"}); -%>
<div class="container">
  <div class="mobile-menu-container">
    <%- include('./Shared/mobiletopmenu', {page:"index"}); -%>
  </div>

  <div
    class="create-task-container create-task-container-mobile"
    id="mobilemenuhandler"
  ><div class="close-button" onClick="`${mobileMenuHandler(false)}`">
    <i class="fa-solid fa-xmark fa-2xl"></i>
  </div>
    <h3>Create New Task List</h3>
    <form method="POST" action="/createtasklist" class="inputform">
      <input
        type="text"
        name="taskListName"
        placeholder="Task List Name"
        autocomplete="off"
      />
      <textarea
        name="description"
        placeholder="Description"
        autocomplete="off"
        rows="4"
      ></textarea>
      <br />
      <br />
      <button class="submit">Submit</button>
    </form>
    <br>
  </div>

  <div class="tasklist">
    <h3>Your Tasks</h3>
    <ul>
      <% for(let taskList of allTaskList) { %>
      <a href="/createtasklist/<%=taskList._id%>">
        <% if (taskList.isActive) { %>
        <div class="tasksview">
          <li>
            <ul>
              <li>Name: <%= taskList.taskListName %></li>
              <li>Description: <%= taskList.description %></li>
              <% if(taskList.tasks.length>1) {%>
              <li>Total Tasks: <%=(taskList.tasks.length-1)%></li>
              <%} else {%>
              <li>Total Tasks: <%=(taskList.tasks.length)%></li>
              <%}%>
              <p style="color: green">Active</p>
            </ul>
          </li>
        </div>
        <%} else { %>
        <div class="tasksview">
          <li>
            <ul>
              <li>Name: <%= taskList.taskListName %></li>
              <li>Description: <%= taskList.description %></li>
              <% if(taskList.tasks.length=1) {%>
              <li>Total Tasks: <%=(taskList.tasks.length-1)%></li>
              <%} else {%>
              <li>Total Tasks: <%=(taskList.tasks.length)%></li>
              <%}%>
              <p style="color: #fa5">Completed</p>
            </ul>
          </li>
        </div>
        <% } %></a
      >
      <% }%>
    </ul>
  </div>
  
</div>

<div class="container">
  <div class="tasklist team-tasklist">
    <h3>Team Tasks</h3>
    <ul>
      <% for(let teamTaskList of allTeamTaskList) { %>
      <a href="/createtasklist/<%=teamTaskList._id%>">
        <% if (teamTaskList.isActive) { %>
        <div class="tasksview">
          <li>
            <ul>
              <li>Name: <%= teamTaskList.taskListName %></li>
              <li>Description: <%= teamTaskList.description %></li>
              <% if(teamTaskList.tasks.length>1) {%>
              <li>Total Tasks: <%=(teamTaskList.tasks.length-1)%></li>
              <%} else {%>
              <li>Total Tasks: <%=(teamTaskList.tasks.length)%></li>
              <%}%>
              <p style="color: green">Active</p>
            </ul>
          </li>
        </div>
        <%} else { %>
        <div class="tasksview">
          <li>
            <ul>
              <li>Name: <%= teamTaskList.taskListName %></li>
              <li>Description: <%= teamTaskList.description %></li>
              <% if(teamTaskList.tasks.length=1) {%>
              <li>Total Tasks: <%=(teamTaskList.tasks.length-1)%></li>
              <%} else {%>
              <li>Total Tasks: <%=(teamTaskList.tasks.length)%></li>
              <%}%>
              <p style="color: #fa5">Completed</p>
            </ul>
          </li>
        </div>
        <% } %></a
      >
      <% }%>
    </ul>
  </div>
</div>
<%- include('./Partials/footer'); -%>